<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AidGen API Test</title>
  <style>
    body { font-family: sans-serif; background-color: #0d2336; color: #eaf4ff; padding: 2rem; }
    .card { background-color: #13293d; border-radius: 0.5rem; padding: 1rem; margin-top: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.4); }
    pre { white-space: pre-wrap; word-break: break-word; }
  </style>
</head>
<body>
  <h1>AidGen API Test</h1>
  <p>This page sends a POST request to <code>/generate</code> with a set of sample inputs and displays the response.</p>
  <div id="output" class="card"></div>
  <script>
    async function testCall() {
      const sampleData = {
        name: 'Test Coffee',
        roast: 'medium',
        origin: 'Colombia',
        process: 'Washed',
        varietal: 'Caturra',
        masl: '1500',
        roastDate: '2025-08-30',
        brewProfile: 'balanced'
      };
      try {
        const response = await fetch('/generate', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(sampleData)
        });
        const text = await response.text();
        document.getElementById('output').innerText = `Status: ${response.status}\nResponse Body:\n${text}`;
      } catch (err) {
        document.getElementById('output').innerText = `Fetch error: ${err.message}`;
      }
    }
    testCall();
  </script>
</body>
</html>
